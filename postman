{ "info": { "name": "Sistema de Listas de Compras - TODAS as Rotas", "description": "Collection completa para testar todas as funcionalidades do sistema de microsserviços", "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json" }, "variable": [ { "key": "baseUrl", "value": "http://localhost:3000", "type": "string" }, { "key": "token", "value": "", "type": "string" }, { "key": "userId", "value": "", "type": "string" }, { "key": "listId", "value": "", "type": "string" }, { "key": "itemId", "value": "c2a6985d-3f9a-49d9-a700-8d86ee5226df", "type": "string" } ], "item": [ { "name": "🔧 CONFIGURAÇÃO", "item": [ { "name": "Set Environment Variables", "event": [ { "listen": "test", "script": { "exec": [ "// Configura variáveis automaticamente após login", "pm.test(\"Set environment variables\", function () {", " var jsonData = pm.response.json();", " pm.collectionVariables.set(\"token\", jsonData.token);", " pm.collectionVariables.set(\"userId\", jsonData.usuario.id);", " console.log(\"Token and UserID set successfully\");", "});" ] } } ], "request": { "method": "POST", "header": [ { "key": "Content-Type", "value": "application/json" } ], "body": { "mode": "raw", "raw": "{\n \"email\": \"testuser@example.com\",\n \"password\": \"senha123\"\n}" }, "url": { "raw": "{{baseUrl}}/api/auth/login", "host": [ "{{baseUrl}}" ], "path": [ "api", "auth", "login" ] } }, "response": [] } ] }, { "name": "🌐 HEALTH & REGISTRY", "item": [ { "name": "Health Check - Status do Sistema", "request": { "method": "GET", "header": [], "url": { "raw": "{{baseUrl}}/health", "host": [ "{{baseUrl}}" ], "path": [ "health" ] } }, "response": [] }, { "name": "Registry - Serviços Registrados", "request": { "method": "GET", "header": [], "url": { "raw": "{{baseUrl}}/registry", "host": [ "{{baseUrl}}" ], "path": [ "registry" ] } }, "response": [] }, { "name": "Dashboard do Sistema", "request": { "method": "GET", "header": [], "url": { "raw": "{{baseUrl}}/api/dashboard", "host": [ "{{baseUrl}}" ], "path": [ "api", "dashboard" ] } }, "response": [] } ] }, { "name": "👤 USER SERVICE - Autenticação", "item": [ { "name": "1. Registrar Usuário", "request": { "method": "POST", "header": [ { "key": "Content-Type", "value": "application/json" } ], "body": { "mode": "raw", "raw": "{\n \"email\": \"testuser@example.com\",\n \"username\": \"testuser\",\n \"password\": \"senha123\",\n \"firstName\": \"Test\",\n \"lastName\": \"User\",\n \"preferences\": {\n \"defaultStore\": \"Supermercado Teste\",\n \"currency\": \"BRL\"\n }\n}" }, "url": { "raw": "{{baseUrl}}/api/auth/register", "host": [ "{{baseUrl}}" ], "path": [ "api", "auth", "register" ] } }, "response": [] }, { "name": "2. Login", "request": { "method": "POST", "header": [ { "key": "Content-Type", "value": "application/json" } ], "body": { "mode": "raw", "raw": "{\n \"email\": \"testuser@example.com\",\n \"password\": \"senha123\"\n}" }, "url": { "raw": "{{baseUrl}}/api/auth/login", "host": [ "{{baseUrl}}" ], "path": [ "api", "auth", "login" ] } }, "response": [] }, { "name": "3. Buscar Usuário por ID", "request": { "method": "GET", "header": [ { "key": "Authorization", "value": "Bearer {{token}}" } ], "url": { "raw": "{{baseUrl}}/api/users/{{userId}}", "host": [ "{{baseUrl}}" ], "path": [ "api", "users", "{{userId}}" ] } }, "response": [] }, { "name": "4. Atualizar Perfil do Usuário", "request": { "method": "PUT", "header": [ { "key": "Content-Type", "value": "application/json" }, { "key": "Authorization", "value": "Bearer {{token}}" } ], "body": { "mode": "raw", "raw": "{\n \"firstName\": \"Teste Atualizado\",\n \"preferences\": {\n \"defaultStore\": \"Supermercado Novo\",\n \"currency\": \"USD\"\n }\n}" }, "url": { "raw": "{{baseUrl}}/api/users/{{userId}}", "host": [ "{{baseUrl}}" ], "path": [ "api", "users", "{{userId}}" ] } }, "response": [] } ] }, { "name": "🛒 ITEM SERVICE - Catálogo de Produtos", "item": [ { "name": "1. Listar Todos os Itens", "request": { "method": "GET", "header": [], "url": { "raw": "{{baseUrl}}/api/items", "host": [ "{{baseUrl}}" ], "path": [ "api", "items" ] } }, "response": [] }, { "name": "2. Buscar Item por ID", "request": { "method": "GET", "header": [], "url": { "raw": "{{baseUrl}}/api/items/{{itemId}}", "host": [ "{{baseUrl}}" ], "path": [ "api", "items", "{{itemId}}" ] } }, "response": [] }, { "name": "3. Filtrar por Categoria - Alimentos", "request": { "method": "GET", "header": [], "url": { "raw": "{{baseUrl}}/api/items?category=Alimentos", "host": [ "{{baseUrl}}" ], "path": [ "api", "items" ], "query": [ { "key": "category", "value": "Alimentos" } ] } }, "response": [] }, { "name": "4. Filtrar por Categoria - Limpeza", "request": { "method": "GET", "header": [], "url": { "raw": "{{baseUrl}}/api/items?category=Limpeza", "host": [ "{{baseUrl}}" ], "path": [ "api", "items" ], "query": [ { "key": "category", "value": "Limpeza" } ] } }, "response": [] }, { "name": "5. Listar Categorias", "request": { "method": "GET", "header": [], "url": { "raw": "{{baseUrl}}/api/categories", "host": [ "{{baseUrl}}" ], "path": [ "api", "categories" ] } }, "response": [] }, { "name": "6. Buscar Itens por Nome", "request": { "method": "GET", "header": [], "url": { "raw": "{{baseUrl}}/api/search?q=arroz", "host": [ "{{baseUrl}}" ], "path": [ "api", "search" ], "query": [ { "key": "q", "value": "arroz" } ] } }, "response": [] }, { "name": "7. Criar Novo Item (Autenticado)", "request": { "method": "POST", "header": [ { "key": "Content-Type", "value": "application/json" }, { "key": "Authorization", "value": "Bearer {{token}}" } ], "body": { "mode": "raw", "raw": "{\n \"name\": \"Novo Produto Teste\",\n \"category\": \"Alimentos\",\n \"brand\": \"Marca Teste\",\n \"unit\": \"un\",\n \"averagePrice\": 5.99,\n \"barcode\": \"987654321\",\n \"description\": \"Produto criado via Postman\",\n \"active\": true\n}" }, "url": { "raw": "{{baseUrl}}/api/items", "host": [ "{{baseUrl}}" ], "path": [ "api", "items" ] } }, "response": [] } ] }, { "name": "📋 LIST SERVICE - Gerenciamento de Listas", "item": [ { "name": "1. Criar Nova Lista", "event": [ { "listen": "test", "script": { "exec": [ "// Salva o ID da lista criada", "pm.test(\"Save list ID\", function () {", " var jsonData = pm.response.json();", " pm.collectionVariables.set(\"listId\", jsonData.id);", " console.log(\"List ID set: \" + jsonData.id);", "});" ] } } ], "request": { "method": "POST", "header": [ { "key": "Content-Type", "value": "application/json" }, { "key": "Authorization", "value": "Bearer {{token}}" } ], "body": { "mode": "raw", "raw": "{\n \"name\": \"Minha Lista de Compras\",\n \"description\": \"Lista criada via Postman para teste\"\n}" }, "url": { "raw": "{{baseUrl}}/api/lists", "host": [ "{{baseUrl}}" ], "path": [ "api", "lists" ] } }, "response": [] }, { "name": "2. Listar Todas as Listas do Usuário", "request": { "method": "GET", "header": [ { "key": "Authorization", "value": "Bearer {{token}}" } ], "url": { "raw": "{{baseUrl}}/api/lists", "host": [ "{{baseUrl}}" ], "path": [ "api", "lists" ] } }, "response": [] }, { "name": "3. Buscar Lista Específica por ID", "request": { "method": "GET", "header": [ { "key": "Authorization", "value": "Bearer {{token}}" } ], "url": { "raw": "{{baseUrl}}/api/lists/{{listId}}", "host": [ "{{baseUrl}}" ], "path": [ "api", "lists", "{{listId}}" ] } }, "response": [] }, { "name": "4. Atualizar Lista", "request": { "method": "PUT", "header": [ { "key": "Content-Type", "value": "application/json" }, { "key": "Authorization", "value": "Bearer {{token}}" } ], "body": { "mode": "raw", "raw": "{\n \"name\": \"Lista Atualizada\",\n \"description\": \"Descrição atualizada via Postman\"\n}" }, "url": { "raw": "{{baseUrl}}/api/lists/{{listId}}", "host": [ "{{baseUrl}}" ], "path": [ "api", "lists", "{{listId}}" ] } }, "response": [] }, { "name": "5. Adicionar Item à Lista", "request": { "method": "POST", "header": [ { "key": "Content-Type", "value": "application/json" }, { "key": "Authorization", "value": "Bearer {{token}}" } ], "body": { "mode": "raw", "raw": "{\n \"itemId\": \"{{itemId}}\",\n \"quantity\": 3,\n \"unit\": \"1kg\",\n \"notes\": \"Item adicionado via Postman\"\n}" }, "url": { "raw": "{{baseUrl}}/api/lists/{{listId}}/items", "host": [ "{{baseUrl}}" ], "path": [ "api", "lists", "{{listId}}", "items" ] } }, "response": [] }, { "name": "6. Ver Resumo da Lista", "request": { "method": "GET", "header": [ { "key": "Authorization", "value": "Bearer {{token}}" } ], "url": { "raw": "{{baseUrl}}/api/lists/{{listId}}/summary", "host": [ "{{baseUrl}}" ], "path": [ "api", "lists", "{{listId}}", "summary" ] } }, "response": [] }, { "name": "7. Marcar Item como Comprado", "request": { "method": "PUT", "header": [ { "key": "Content-Type", "value": "application/json" }, { "key": "Authorization", "value": "Bearer {{token}}" } ], "body": { "mode": "raw", "raw": "{\n \"purchased\": true\n}" }, "url": { "raw": "{{baseUrl}}/api/lists/{{listId}}/items/{{itemId}}", "host": [ "{{baseUrl}}" ], "path": [ "api", "lists", "{{listId}}", "items", "{{itemId}}" ] } }, "response": [] }, { "name": "8. Ver Resumo Atualizado", "request": { "method": "GET", "header": [ { "key": "Authorization", "value": "Bearer {{token}}" } ], "url": { "raw": "{{baseUrl}}/api/lists/{{listId}}/summary", "host": [ "{{baseUrl}}" ], "path": [ "api", "lists", "{{listId}}", "summary" ] } }, "response": [] }, { "name": "9. Deletar Lista", "request": { "method": "DELETE", "header": [ { "key": "Authorization", "value": "Bearer {{token}}" } ], "url": { "raw": "{{baseUrl}}/api/lists/{{listId}}", "host": [ "{{baseUrl}}" ], "path": [ "api", "lists", "{{listId}}" ] } }, "response": [] } ] }, { "name": "🔍 BUSCA AVANÇADA", "item": [ { "name": "Busca Global - Itens e Listas", "request": { "method": "GET", "header": [], "url": { "raw": "{{baseUrl}}/api/search?q=arroz", "host": [ "{{baseUrl}}" ], "path": [ "api", "search" ], "query": [ { "key": "q", "value": "arroz" } ] } }, "response": [] }, { "name": "Busca por Feijão", "request": { "method": "GET", "header": [], "url": { "raw": "{{baseUrl}}/api/search?q=feijão", "host": [ "{{baseUrl}}" ], "path": [ "api", "search" ], "query": [ { "key": "q", "value": "feijão" } ] } }, "response": [] } ] } ] }